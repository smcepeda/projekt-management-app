{"ast":null,"code":"import Vue from 'vue/dist/vue.esm';\nimport VueResource from 'vue-resource';\nVue.use(VueResource);\ndocument.addEventListener('turbolinks:load', function () {\n  Vue.http.headers.common['X-CSRF-Token'] = document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content');\n  var element = document.getElementById(\"team-form\");\n\n  if (element != null) {\n    var id = element.dataset.id;\n    var team = JSON.parse(element.dataset.team);\n    var users_attributes = JSON.parse(element.dataset.usersAttributes);\n    users_attributes.forEach(function (user) {\n      user._destroy = null;\n    });\n    team.users_attributes = users_attributes;\n    var app = new Vue({\n      el: element,\n      data: function data() {\n        return {\n          id: id,\n          team: team,\n          errors: [],\n          scrollPosition: null\n        };\n      },\n      mounted: function mounted() {\n        window.addEventListener('scroll', this.updateScroll);\n      },\n      methods: {\n        updateScroll: function updateScroll() {\n          this.scrollPosition = window.scrollY;\n        },\n        addUser: function addUser() {\n          this.team.users_attributes.push({\n            id: null,\n            name: \"\",\n            email: \"\",\n            //position: \"\",\n            _destroy: null\n          });\n        },\n        removeUser: function removeUser(index) {\n          var user = this.team.users_attributes[index];\n\n          if (user.id == null) {\n            this.team.users_attributes.splice(index, 1);\n          } else {\n            this.team.users_attributes[index]._destroy = \"1\";\n          }\n        },\n        undoRemove: function undoRemove(index) {\n          this.team.users_attributes[index]._destroy = null;\n        },\n        saveTeam: function saveTeam() {\n          var _this = this;\n\n          // Create a new team\n          if (this.id == null) {\n            this.$http.post('/teams', {\n              team: this.team\n            }).then(function (response) {\n              Turbolinks.visit(\"/teams/\".concat(response.body.id));\n            }, function (response) {\n              console.log(response);\n\n              if (response.status = 422) {\n                var json = JSON.parse(response.bodyText);\n                _this.errors = json[\"users.email\"][0];\n              }\n            }); // Edit an existing team\n          } else {\n            this.$http.put(\"/teams/\".concat(this.id), {\n              team: this.team\n            }).then(function (response) {\n              Turbolinks.visit(\"/teams/\".concat(response.body.id));\n            }, function (response) {\n              console.log(response);\n            });\n          }\n        },\n        existingTeam: function existingTeam() {\n          return this.team.id != null;\n        }\n      }\n    });\n  }\n});","map":{"version":3,"sources":["/Users/Home/Desktop/Ruby Projects/projekt-app/app/javascript/packs/projekt.js"],"names":["Vue","VueResource","use","document","addEventListener","http","headers","common","querySelector","getAttribute","element","getElementById","id","dataset","team","JSON","parse","users_attributes","usersAttributes","forEach","user","_destroy","app","el","data","errors","scrollPosition","mounted","window","updateScroll","methods","scrollY","addUser","push","name","email","removeUser","index","splice","undoRemove","saveTeam","$http","post","then","response","Turbolinks","visit","body","console","log","status","json","bodyText","put","existingTeam"],"mappings":"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","sourcesContent":["import Vue from 'vue/dist/vue.esm'\nimport VueResource from 'vue-resource'\n\n\nVue.use(VueResource)\n\ndocument.addEventListener('turbolinks:load', () => {\n  Vue.http.headers.common['X-CSRF-Token'] = document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n\n  var element = document.getElementById(\"team-form\")\n  if (element != null) {\n\n    var id = element.dataset.id\n    var team = JSON.parse(element.dataset.team)\n    var users_attributes = JSON.parse(element.dataset.usersAttributes)\n    users_attributes.forEach(function(user) { user._destroy = null })\n    team.users_attributes = users_attributes\n\n    var app = new Vue({\n      el: element,\n      data: function() {\n        return {\n          id: id,\n          team: team,\n          errors: [],\n          scrollPosition: null\n        }\n      },\n      mounted() {\n        window.addEventListener('scroll', this.updateScroll);\n      },\n      methods: {\n        updateScroll() {\n          this.scrollPosition = window.scrollY\n        },\n        addUser: function() {\n          this.team.users_attributes.push({\n            id: null,\n            name: \"\",\n            email: \"\",\n            //position: \"\",\n            _destroy: null\n          })\n        },\n\n        removeUser: function(index) {\n          var user = this.team.users_attributes[index]\n\n          if (user.id == null) {\n            this.team.users_attributes.splice(index, 1)\n          } else {\n            this.team.users_attributes[index]._destroy = \"1\"\n          }\n        },\n\n        undoRemove: function(index) {\n          this.team.users_attributes[index]._destroy = null\n        },\n\n        saveTeam: function() {\n          // Create a new team\n\n          if (this.id == null) {\n            this.$http.post('/teams', { team: this.team }).then(response => {\n              Turbolinks.visit(`/teams/${response.body.id}`)\n            }, response => {\n              console.log(response)\n\n              if (response.status = 422) {\n                var json = JSON.parse(response.bodyText);\n                this.errors = json[\"users.email\"][0];\n              }\n            })\n\n\n          // Edit an existing team\n          } else {\n            this.$http.put(`/teams/${this.id}`, { team: this.team }).then(response => {\n              Turbolinks.visit(`/teams/${response.body.id}`)\n            }, response => {\n              console.log(response)\n            })\n          }\n        },\n\n        existingTeam: function() {\n          return this.team.id != null\n        }\n      }\n    })\n\n  }\n})"]},"metadata":{},"sourceType":"module"}